!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.ScrollOnWebview=i():t.ScrollOnWebview=i()}(window,function(){return function(t){var i={};function s(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}return s.m=t,s.c=i,s.d=function(t,i,n){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)s.d(n,e,function(i){return t[i]}.bind(null,e));return n},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){"use strict";s.r(i);var n=function(){var t=!1;try{var i={};Object.defineProperty(i,"passive",{get:function(){t=!0}}),window.addEventListener("test-passive",null,i)}catch(t){}return t},e=function(t){for(var i=["t","webkitT","MozT","msT","OT"],s=0;s<i.length;s++){if(i[s]+"ransform"in t)return i[s].substr(0,i[s].length-1)}return!1},o=function(t,i){return!1!==t&&(""===t?i:""+t+i.charAt(0).toUpperCase()+i.substr(1))},r=function(){return Date.now()||(new Date).getTime()},a=function(t,i,s,n){void 0===n&&(n=!1),t.addEventListener(i,s,n)},h=function(t,i,s,n){void 0===n&&(n=!1),t.removeEventListener(i,s,n)},l=function(){return{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1===t?1:.4*Math.pow(2,-10*t)*Math.sin((t-.055)*(2*Math.PI)/.22)+1}}}},c=function(t,i,s,n,e,o){var r=t-i,a=Math.abs(r)/s,h=0,l=0;return l=a/(o=void 0===o?6e-4:o),(h=t+a*a/(2*o)*(r<0?-1:1))<n?(h=e?n-e/2.5*(a/8):n,l=(r=Math.abs(h-t))/a):h>0&&(h=e?e/2.5*(a/8):0,l=(r=Math.abs(t)+h)/a),{destination:Math.round(h),duration:l}},u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},d=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)};s.d(i,"default",function(){return f});var p=document.createElement("div").style,m={momentum:!0,bindToWrapper:!0,HWCompositing:!0,bounce:!0,bounceTime:0,bounceEasing:"",scrollX:!1,scrollY:!0,deceleration:6e-4},f=function(){function t(t,i){void 0===i&&(i={}),this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options=Object.assign({},Object.assign({},m),Object.assign({},i)),this.x=0,this.y=0,this.startTime=0,this.endTime=0,this.events=Object.create(null),this.supportsPassive=n(),this.vendor=e(p),this.hasTransform=!!o(this.vendor,"transform"),this.hasPerspective=o(this.vendor,"perspective")in p,this.hasTransition=o(this.vendor,"transition")in p,this.hasTouch="ontouchstart"in window,this.translateZ=this.options.HWCompositing&&this.hasPerspective?" translateZ(0)":"",this.style={transform:o(this.vendor,"transform"),transitionTimingFunction:o(this.vendor,"transitionTimingFunction"),transitionDuration:o(this.vendor,"transitionDuration"),transitionDelay:o(this.vendor,"transitionDelay"),transformOrigin:o(this.vendor,"transformOrigin"),touchAction:o(this.vendor,"touchAction")},this.options.useTransition=!!this.hasTransition,this.options.useTransform=!!this.hasTransform,this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),this._initEvents(),this.updateSizes()}var i=t.prototype;return i.on=function(t,i){this.events[t]||(this.events[t]=[]),this.events[t].push(i)},i.off=function(t,i){if(this.events[t]){var s=this.events[t].indexOf(i);s>-1&&this.events[t].splice(s,1)}},i.getComputedPosition=function(){var t=window.getComputedStyle(this.scroller,null),i=0,s=0;return this.options.useTransform?(i=+((t=t[this.style.transform].split(")")[0].split(", "))[12]||t[4]),s=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d.]/g,""),s=+t.top.replace(/[^-\d.]/g,"")),{x:i,y:s}},i.updateSizes=function(){this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight)},i.scrollTo=function(t,i,s,n,e){n=n||l().circular,this.isInTransition=this.options.useTransition&&s>0,!s||this.options.useTransition?(this._transitionTimingFunction(n.style),this._transitionTime(s),this._translate(t,i),e&&this._execEvent("scroll")):this._animate(t,i,s,n.fn)},i._initEvents=function(t){var i=t?h:a,s=this.options.bindToWrapper?this.wrapper:window;this.hasTouch&&(i(this.wrapper,"touchstart",this._handleEvent.bind(this)),i(s,"touchmove",this._handleEvent.bind(this),!!this.supportsPassive&&{capture:!1,passive:!1}),i(s,"touchcancel",this._handleEvent.bind(this)),i(s,"touchend",this._handleEvent.bind(this))),this.options.useTransition&&(i(this.scroller,"transitionend",this._handleEvent.bind(this)),i(this.scroller,"webkitTransitionEnd",this._handleEvent.bind(this)),i(this.scroller,"oTransitionEnd",this._handleEvent.bind(this)),i(this.scroller,"MSTransitionEnd",this._handleEvent.bind(this)))},i._start=function(t){var i=t.touches?t.touches[0]:t;if(this.pointX=i.pageX,this.pointY=i.pageY,this.startTime=r(),this.isMoving=!1,this.options.useTransition&&this.isInTransition){this._transitionTime(),this.isInTransition=!1;var s=this.getComputedPosition();this._translate(Math.round(s.x),Math.round(s.y)),this._execEvent("scrollEnd")}this.startY=this.y,this.startX=this.x,this.distX=0,this.distY=0},i._move=function(t){t.preventDefault();var i=t.touches?t.touches[0]:t,s=r(),n=i.pageX-this.pointX,e=i.pageY-this.pointY;if(this.distX+=n,this.distY+=e,this.pointX=i.pageX,this.pointY=i.pageY,!(s-this.endTime>300&&Math.abs(this.distX)<10&&Math.abs(this.distY)<10)){n=this.hasHorizontalScroll?n:0,e=this.hasVerticalScroll?e:0;var o=this.x+n,a=this.y+e;(o>0||o<this.maxScrollX)&&(o=this.options.bounce?this.x+n/3:o>0?0:this.maxScrollX),(a>0||a<this.maxScrollY)&&(a=this.options.bounce?this.y+e/3:a>0?0:this.maxScrollY),this.isMoving||this._execEvent("scrollStart"),this.isMoving=!0,this._translate(o,a),s-this.startTime>300&&(this.startTime=s,this.startX=this.x,this.startY=this.y),this._execEvent("scroll")}},i._end=function(t){var i=r()-this.startTime,s=Math.round(this.x),n=Math.round(this.y),e=0,o="";if(this.isInTransition=!1,this.endTime=r(),!this._resetPosition(this.options.bounceTime)){if(this.scrollTo(s,n),this.options.momentum&&i<300){var a=this.hasHorizontalScroll?c(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},h=this.hasVerticalScroll?c(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:n,duration:0};s=a.destination,n=h.destination>0?0:h.destination<this.maxScrollY?this.maxScrollY:h.destination,e=Math.max(a.duration,h.duration),this.isInTransition=!0}if(s!==this.x||n!==this.y)return(s>0||s<this.maxScrollX||n>0||n<this.maxScrollY)&&(o=l().quadratic),this._execEvent("momentum",{y:n,x:s}),void this.scrollTo(s,n,e,o);this._execEvent("scrollEnd")}},i._animate=function(t,i,s,n){var e=this,o=this.x,a=this.y,h=r(),l=h+s;this.isAnimating=!0,d(this.animateTimer),function c(){var d=r();if(d>=l)return e.isAnimating=!1,e._translate(t,i),void(this._resetPosition(e.options.bounceTime)||this._execEvent("scrollEnd"));var p=n(d=(d-h)/s),m=(t-o)*p+o,f=(i-a)*p+a;e._translate(m,f),e.isAnimating&&(e.animateTimer=u(c)),this._execEvent("scroll")}()},i._transitionEnd=function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this._resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},i._handleEvent=function(t){switch(t.type){case"touchstart":this._start(t);break;case"touchmove":this._move(t);break;case"touchend":case"touchcancel":this._end(t);break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;default:console.error("Not supports "+t.type)}},i._execEvent=function(t){if(this.events[t]){var i=this.events[t].length;if(i)for(var s=0;s<i;s++)this.events[t][s].apply(this,[].slice.call(arguments,1))}},i._transitionTimingFunction=function(t){this.scrollerStyle[this.style.transitionTimingFunction]=t},i._transitionTime=function(t){var i=this;if(this.options.useTransition){t=t||0;var s=this.style.transitionDuration;s&&(this.scrollerStyle[s]=t+"ms",!t&&function(){var t=window.navigator.userAgent;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var i=t.match(/Safari\/(\d+.\d)/);return!(i&&"object"==typeof i&&i.length>=2)||parseFloat(i[1])<535.19}return!1}()&&(this.scrollerStyle[s]="0.0001ms",u(function(){"0.0001ms"===i.scrollerStyle[s]&&(i.scrollerStyle[s]="0s")})))}},i._resetPosition=function(t){t=t||0;var i=this.x,s=this.y;return!this.hasHorizontalScroll||this.x>0?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX),!this.hasVerticalScroll||this.y>0?s=0:this.y<this.maxScrollY&&(s=this.maxScrollY),(i!==this.x||s!==this.y)&&(this.scrollTo(i,s,t,this.options.bounceEasing),!0)},i._translate=function(t,i){isNaN(t)||isNaN(i)||(this.options.useTransform?this.scrollerStyle[this.style.transform]="translate(0px, "+i+"px) "+this.translateZ:(t=Math.round(t),i=Math.round(i),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=i+"px"),this.x=t,this.y=i)},i.destroy=function(){this._initEvents(!0),this.events=null},t}()}])});